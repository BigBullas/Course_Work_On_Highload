#  Pinterest
### Course Work On Highload

## 1. Тема и целевая аудитория
**Pinterest** - фотохостинг, позволяющий пользователям добавлять в режиме онлайн изображения, помещать их в тематические коллекции и делиться ими с другими пользователями

### MVP

- Регистрация/авторизация
- Просмотр пинов
- Комментирование пинов
- Добавление реакции на пин
- Создание пинов
- Создание собственных досок и сохранение в них пинов

### Целевая аудитория
MAU составляет 450M/ Весь мир

#### Лучшие страны мира по количеству пользователей Pinterest по состоянию на 2023 год

| **Страна** | **Количество, млн** |
|------------|----------------|
| USA | 84.6 |
| Brazil | 28.05 |
| Mexico | 19.45 |
| Germany | 15.88 |
| France | 10.65 |
| Canada | 8.44 |

Что касатеся целевой аудитории:
- 55% пользователей составляют люди в возрасте от 18 до 34 лет;
- Количество пользователей от 35 до 54 лет — 31%, а 55 лет и старше — 12%;
- Около 70% всех пользователей — женского пола, мужчины используют социальную сеть намного реже (24%);

### Источники:
- https://www.demandsage.com/pinterest-statistics/
- https://tengyart.ru/statistika-pinterest-v-2020-informacziya-o-auditorii/?ysclid=lmf3csx7nl463560350

## 2. Расчёт нагрузки

### Продуктовые метрики

- Месячная аудитория 450 млн
- Дневная аудитория 225 млн
- Средний размер хранилища пользователя:  
Так как Pinterest не предоставляет никакой информации о количестве пинов, то возьмём, что в среднем у одного пользователя их 50 штук.  
Пины это файлы в формате .jpg или .mp4, то есть видео и изображения.  
Максимальный размер последних Pinterest установил 20 Mb, то есть будем считать, что в среднем изображение будет весить 10 Mb.  
Видео же должны быть размером меньше 100 Mb, то есть в среднем будут весить 50 Mb.  
К сожалению, примерного соотношения видео и изображений нет, поэтому будем считать, что одинаковое количество, 50 000 штук.  
Тогда средний размер хранилища пользователя:

```azure
50 * 10 Mb + 50 * 50 Mb = 3 000 Mb ≈ 3 Gb
```

- Среднее количество действий пользователей по типам в день:  
С 2022 по 2023 года аудитория Pinterest возросла на 17 млн, то есть в день в среднем регистрировались 46,6 тысяч раз.
Авторизацию же проходят в среднем 4 раза в год, поэтому в день авторизацию проходят в среднем примерно 2,5 млн раз.  
Если взять в расчёт, что один пользователь в среднем смотрит около 50 пинов, то выходит, что в день просматривают пины около 11 млрд раз.  
Один пользователь комментируют обычно 3 пина в день, тогда комментируют в день 675 млн раз в целом.  
Реакции ставят чаще, около 10 в день, следовательно их добавляют на пины в день около 2 млрд раз.  
Что касается создания пинов, то рядовой пользователь делает это крайне редко,
этим чаще всего занимаются различные юридические лица. Поэтому будем считать, что в день это совершается всего 0,5 раз, 
отсюда получаем, что в день создают пины 112,5 млн раз.  
Создание досок у обычного пользователя происходит в среднем 1 раз в месяц, поэтому в целом 7,5 млн раз.
Что не скажешь о добавлении пинов, в среднем пользователь может сохранить около 5 пинов в день, то есть в итоге получим около 1 млрд раз.  

| **Действие**          | **Среднее количество в день, штук** |
|-----------------------|-------------------------------------|
| Регистрация           | 46.6 тысяч                          |
| Авторизация           | 2.5 млн                             |
| Просмотр пинов        | 11 млрд                             |
| Комментирование пинов | 675 млн                             |
| Добавление реакции    | 2 млрд                              |
| Создание пина         | 112.5 млн                           |
| Создание досок        | 7.5 млн                             |
| Сохранение пинов      | 1 млрд                              |

### Технические метрики

#### Хранилище

- Изображения: X * 10 Mb = 
- Видео: X * 50 Mb = 

#### Сетевой трафик и rps